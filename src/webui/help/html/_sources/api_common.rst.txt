Общие команды
=========================================
Команды для пользовательского использования.

Для выполнения этих команд клиент должен быть в списке :option:`QueryClients`.

.. contents:: :local:


GetStatus
----------------------------------------
Получение сведений о Лутнике.

.. code-block:: monte

	a=getstatus


Вернёт в формате **json** сведения о Лутнике, о клиенте и некоторые параметры:

.. list-table::
   :widths: 25 15 60
   :header-rows: 1

   * - Поле
     - Формат
     - Значение
   * - uptime
     - Строка
     - Время работы
   * - product
     - Строка
     - Название сборки Лутники
   * - version
     - Строка
     - Версия
   * - directory
     - Строка
     - Рабочая папка
   * - service_name
     - Строка
     - Название службы
   * - scheduler_status
     - Строка
     - Статус планировщика заданий. Может иметь один из следующих статусов: 
		* **ready** - готов к новому циклу заданий.
		* **wait** - ждёт время старта следующего повтора.
		* **work** - выполняет цикл заданий.
		* **pause** - планировщик приостановлен пользователем.
		* **cancel** - остановка выполнения текущего цикла заданий
   * - client_host
     - Строка
     - Адрес клиента
   * - client_role
     - Строка
     - Уровень привилегий клиента
   * - allow_actions
     - Строка
     - Доступные команды для клиента
	 
   * - pid
     - число
     - PID Лутники
   * - pid_user
     - строка
     - под кем запущена Лутника
   * - resource_usage
     - объект
     - используемые ресурсы
	 
Объект ``resource_usage`` содержит объекты со следующим набором полей: 

.. list-table::
   :widths: 25 10 65
   :header-rows: 1

   * - Поле
     - Формат
     - Значение
   * - cpu
     - число
     - информация о CPU
   * - ram
     - объект
     - информация о RAM
   * - ram/total
     - число
     - общий размер памяти
   * - ram/available
     - число
     - доступный размер всей памяти
   * - ram/percent
     - число
     - % занятой всей памяти
   * - ram/used
     - число
     - размер занятой памяти
   * - ram/free
     - число
     - доступный размер реальной памяти (без swap)
   * - ram/lootnika_percent
     - число
     - % занятой памяти Лутникой

	
Подробности про статистику использования ресурсов смотрите в официальной документации `psutil
<https://psutil.readthedocs.io/>`_.
